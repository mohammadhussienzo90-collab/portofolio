{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ settings.name }} - Portfolio{% endblock %}</title>
    <meta name="description" content="{% block description %}{{ settings.title }} - Portfolio showcasing web development projects{% endblock %}">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    {% block extra_css %}{% endblock %}
</head>
<body x-data="{ mobileMenuOpen: false }">
    <!-- Navigation -->
    <nav class="nav" x-data="{ scrolled: false }" @scroll.window="scrolled = window.scrollY > 50">
        <div class="nav-container" :class="{ 'nav-scrolled': scrolled }">
            <a href="{% url 'core:home' %}" class="nav-logo">
                <span class="logo-text">{{ settings.name|default:"Portfolio" }}</span>
            </a>

            <!-- Desktop Menu -->
            <div class="nav-links">
                <a href="{% url 'core:home' %}#about" class="nav-link">About</a>
                <a href="{% url 'core:home' %}#projects" class="nav-link">Projects</a>
                <a href="{% url 'core:home' %}#contact" class="nav-link">Contact</a>
                {% if settings.github_url %}
                <a href="{{ settings.github_url }}" target="_blank" rel="noopener" class="nav-link nav-icon">
                    <i class="fab fa-github"></i>
                </a>
                {% endif %}
            </div>

            <!-- Mobile Menu Button -->
            <button class="mobile-menu-btn" @click="mobileMenuOpen = !mobileMenuOpen" aria-label="Toggle menu">
                <i class="fas" :class="mobileMenuOpen ? 'fa-times' : 'fa-bars'"></i>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div class="mobile-menu" x-show="mobileMenuOpen" x-transition @click.away="mobileMenuOpen = false">
            <a href="{% url 'core:home' %}#about" class="mobile-link" @click="mobileMenuOpen = false">About</a>
            <a href="{% url 'core:home' %}#projects" class="mobile-link" @click="mobileMenuOpen = false">Projects</a>
            <a href="{% url 'core:home' %}#contact" class="mobile-link" @click="mobileMenuOpen = false">Contact</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <span>&copy; 2024 {{ settings.name|default:"Portfolio" }}</span>
                    <span class="footer-divider">|</span>
                    <span>Built with Django</span>
                </div>
                <div class="footer-links">
                    {% if settings.github_url %}
                    <a href="{{ settings.github_url }}" target="_blank" rel="noopener" aria-label="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                    {% endif %}
                    {% if settings.linkedin_url %}
                    <a href="{{ settings.linkedin_url }}" target="_blank" rel="noopener" aria-label="LinkedIn">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    {% endif %}
                    {% if settings.email %}
                    <a href="mailto:{{ settings.email }}" aria-label="Email">
                        <i class="fas fa-envelope"></i>
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </footer>

    <!-- Custom JS -->
    <script src="{% static 'js/main.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
